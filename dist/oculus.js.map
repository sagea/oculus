{"version":3,"sources":["../src/oculus.es6.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;IACP,OAAO;aAAP,OAAO;8BAAP,OAAO;;;iBAAP,OAAO;;eACJ,cAAC,GAAG,EAAE,QAAQ,EAAE;AACjB,iBAAK,IAAI,CAAC,GAAG,CAAC,EAAE,OAAM,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,OAAM,EAAE,CAAC,EAAE,EAAE;AAClD,wBAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;aAC5B;SACJ;;;eAEc,wBAAC,GAAG,EAAE,GAAG,EAAE;AACtB,gBAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;AACpD,uBAAO,EAAE,CAAC;aACb;;AAED,gBAAI,GAAG,KAAK,EAAE,EAAE;AACZ,uBAAO,GAAG,CAAC;aACd;AACD,gBAAI,GAAG,GAAG,GAAG;gBAAE,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC;gBAAE,CAAC,GAAG,CAAC,CAAC;gBAAE,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC;AAC5D,mBAAO,EAAE,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA,AAAC,EAAE,EACtC;AACD,mBAAO,GAAG,IAAI,EAAE,CAAC;SACpB;;;WAnBC,OAAO;;;IAsBP,YAAY;cAAZ,YAAY;;AACF,aADV,YAAY,CACD,GAAG,EAAE;8BADhB,YAAY;;AAEV,mCAFF,YAAY,6CAEJ,GAAG,EAAE;AACX,YAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACrB,YAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACrB,YAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;KAChC;;iBANC,YAAY;;eAQP,kBAAG;;;AACN,uCATF,YAAY,sCASC,QAAQ,CAAC,gBAAgB,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,UAAA,IAAI,EAAI;AAC/E,oBAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACpB,oBAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAChD,2CAZN,YAAY,wCAYK,MAAK,IAAI,EAAE,UAAC,KAAK,EAAE,KAAK,EAAK;AACpC,wBAAI,CAAC,SAAS,GAAG,MAAK,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE,UAAC,MAAM,EAAE,IAAI,EAAK;AACjE,+BAAO,2BAdrB,YAAY,kDAc8B,KAAK,EAAE,IAAI,MAAM,IAAI,KAAK,QAAQ,GAAG,KAAK,GAAG,CAAC,GAAG,EAAE,CAAA,AAAC,CAAC;qBACpF,CAAC,CAAC;AACH,wBAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACrC,EAAE;aACN,EAAE;SACN;;;WAnBC,YAAY;GAAS,OAAO","file":"oculus.js","sourcesContent":["'use strict';\nclass utility {\n    each (arr, callback) {\n        for (let i = 0, length = arr.length; i < length; i++) {\n            callback(arr[i], i, arr);\n        }\n    }\n\n    getOptionValue (arr, str) {\n        if (typeof arr !== 'object' && typeof str !== 'string') {\n            return \"\";\n        }\n\n        if (str === \"\") {\n            return arr;\n        }\n        var val = arr, asd = str.split('.'), i = -1, l = asd.length;\n        while (++i < l && (val = val[asd[i]])) {\n        }\n        return val || \"\";\n    }\n}\n\nclass OculusRepeat extends utility {\n    constructor (obj) {\n        super(obj);\n        this.name = obj.name;\n        this.data = obj.data;\n        this.template = obj.template;\n    }\n\n    render () {\n        super.each(document.querySelectorAll('[data-oculus=\"' + this.name + '\"]'), node => {\n            node.innerHTML = '';\n            var elem = document.createElement(node.tagName);\n            super.each(this.data, (datum, index) => {\n                elem.innerHTML = this.template.replace(/{(.*?)}/g, (search, text) => {\n                    return super.getOptionValue(datum, text) || (text === '$index' ? index + 1 : '');\n                });\n                node.appendChild(elem.firstChild);\n            });\n        });\n    }\n}\n"]}